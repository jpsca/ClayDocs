{#def title="", type="", open=True #}

{% set colors = {
  "info": "bg-blue-100 border-blue-200 text-blue-900 shadow-blue-100",
  "tip": "bg-yellow-100 border-yellow-200 text-yellow-900 shadow-yellow-100",
  "warning": "bg-red-100 border-red-200 text-red-900 shadow-red-100",
  "internal": "bg-stone-200 border-stone-300 text-stone-900 shadow-stone-100",
} %}
{% set has_icon = type in colors %}
{% do attrs.set(class=colors.get(type, "bg-zinc-100 border-zinc-300 text-zinc-800 shadow-zinc-100")) %}

<details {{ attrs.render(
  class="group relative border rounded overflow-hidden cursor-pointer text-base shadow-sm bg-opacity-50 dark:bg-opacity-80",
  open=open,
) }}>
  <summary class="flex items-center font-bold h-12 px-6
    {%- if has_icon %} pl-14 group-open:pl-[4.5rem] group-open:h-[4.5rem] group-open:sm:h-12{% endif -%}
  ">
    {% if has_icon -%}
    <Icon type={type} class="
      absolute pointer-events-none opacity-70
      top-3 left-4 w-7 h-7
      group-open:w-11 group-open:h-11
    "/>
    {%- endif %}
    {{ title or type.title() or "Note" }}
    <ArrowRight class="ml-auto rotate-90 group-open:-rotate-90 transition-transform" />
  </summary>
  <div class="pb-5 px-6{% if has_icon %} sm:pl-[4.5rem]{% endif %}">{{content}}</div>
</details>
